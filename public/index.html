<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard WhatsApp User</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/3.0.2/css/responsive.bootstrap5.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="user.css">
</head>
<body>

<div class="dashboard-wrapper">
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <i class="fab fa-whatsapp"></i>
            <h3>WA Control</h3>
        </div>
        <ul class="list-unstyled components">
            <li class="active"><a href="#"><i class="fas fa-tachometer-alt fa-fw"></i> Dashboard</a></li>
            <li><a href="#"><i class="fas fa-user-circle fa-fw"></i> Profil</a></li>
            <li><a href="#"><i class="fas fa-wallet fa-fw"></i> Langganan</a></li>
            <li><a href="#"><i class="fas fa-cog fa-fw"></i> Pengaturan</a></li>
        </ul>
        <ul class="list-unstyled logout">
            <li><a href="#" class="logout-link"><i class="fas fa-sign-out-alt fa-fw"></i> Logout</a></li>
        </ul>
    </nav>

    <div class="overlay" id="overlay"></div>

    <main class="main-content">
        <header class="content-header">
            <button type="button" id="sidebar-toggle" class="btn btn-link"><i class="fas fa-bars"></i></button>
            <div class="user-profile">
                <span class="me-2 d-none d-sm-inline">Halo, User</span>
                <img src="https://i.pravatar.cc/40?u=user" alt="Avatar" class="avatar">
            </div>
        </header>

        <section class="row mb-4">
            <div class="col-12">
                <div class="card-main d-flex flex-column flex-md-row justify-content-between align-items-center">
                    <div>
                        <h5>Status Koneksi WhatsApp</h5>
                        <p class="text-muted small mb-0" id="status-description">Hubungkan perangkat Anda untuk memulai.</p>
                    </div>
                    <div class="d-flex align-items-center mt-3 mt-md-0">
                        <div id="status-indicator" class="d-flex align-items-center me-3">
                            <div class="status-dot disconnected me-2"></div>
                            <span id="connection-status" class="fw-bold">TERPUTUS</span>
                        </div>
                        <button class="btn btn-primary" id="connect-wa-btn"><i class="fab fa-whatsapp me-2"></i>Hubungkan</button>
                        <button class="btn btn-danger d-none" id="disconnect-wa-btn"><i class="fas fa-power-off me-2"></i>Putuskan</button>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="main-features">
            <div class="card-main">
                <div class="disabled-overlay" id="feature-overlay">
                    <div class="overlay-text"><i class="fas fa-lock me-2"></i> Hubungkan WhatsApp untuk membuka fitur</div>
                </div>
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#send-message" type="button" role="tab"><i class="fas fa-paper-plane me-2"></i>Kirim Pesan</button></li>
                    <li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#broadcast" type="button" role="tab"><i class="fas fa-bullhorn me-2"></i>Broadcast</button></li>
                    <li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#auto-reply" type="button" role="tab"><i class="fas fa-robot me-2"></i>Auto-Reply</button></li>
                    <li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#history" type="button" role="tab"><i class="fas fa-history me-2"></i>Riwayat</button></li>
                </ul>

                <div class="tab-content pt-4" id="myTabContent">
                    <!-- Kirim Pesan -->
                    <div class="tab-pane fade show active" id="send-message" role="tabpanel">
                        <div class="form-header"><i class="fas fa-paper-plane"></i><h6>Kirim Pesan Tunggal</h6></div>
                        <form id="form-send-message">
                            <div class="mb-3"><label class="form-label">Nomor Tujuan (format 62...)</label><input type="text" class="form-control" placeholder="6281234567890"></div>
                            <div class="mb-3"><label class="form-label">Isi Pesan</label><textarea class="form-control" rows="4" placeholder="Ketik pesan Anda..."></textarea></div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Media (opsional)</label>
                                    <input id="singleFile" type="file" class="form-control">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Caption (opsional)</label>
                                    <input id="singleCaption" type="text" class="form-control" placeholder="Caption media">
                                </div>
                            </div>

                            <!-- Tombol max 3 -->
                            <div class="mb-3">
                                <label class="form-label">Tambahkan Tombol (opsional, max 3)</label>
                                <div class="row g-2">
                                    <div class="col-md-4"><input id="btn1" type="text" class="form-control" placeholder="Tombol 1"></div>
                                    <div class="col-md-4"><input id="btn2" type="text" class="form-control" placeholder="Tombol 2"></div>
                                    <div class="col-md-4"><input id="btn3" type="text" class="form-control" placeholder="Tombol 3"></div>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-success"><i class="fas fa-paper-plane me-2"></i>Kirim</button>
                        </form>
                    </div>

                    <!-- Broadcast -->
                    <div class="tab-pane fade" id="broadcast" role="tabpanel">
                        <div class="form-header"><i class="fas fa-bullhorn"></i><h6>Kirim Pesan Broadcast</h6></div>
                        <form id="form-broadcast">
                            <div class="mb-3"><label class="form-label">Nomor Tujuan (pisahkan dengan koma/baris baru)</label><textarea class="form-control" rows="3" placeholder="6281..., 6282..., 6283..."></textarea></div>
                            <div class="mb-3"><label class="form-label">Isi Pesan</label><textarea class="form-control" rows="4" placeholder="Ketik pesan broadcast Anda..."></textarea></div>

                            <div class="row">
                                <div class="col-md-6 mb-3"><label class="form-label">Media (opsional)</label><input id="bcFile" type="file" class="form-control"></div>
                                <div class="col-md-6 mb-3"><label class="form-label">Caption (opsional)</label><input id="bcCaption" type="text" class="form-control" placeholder="Caption media"></div>
                            </div>

                            <!-- Tombol max 3 -->
                            <div class="mb-3">
                                <label class="form-label">Tambahkan Tombol (opsional, max 3)</label>
                                <div class="row g-2">
                                    <div class="col-md-4"><input id="bcBtn1" type="text" class="form-control" placeholder="Tombol 1"></div>
                                    <div class="col-md-4"><input id="bcBtn2" type="text" class="form-control" placeholder="Tombol 2"></div>
                                    <div class="col-md-4"><input id="bcBtn3" type="text" class="form-control" placeholder="Tombol 3"></div>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-success"><i class="fas fa-bullhorn me-2"></i>Kirim Blast</button>
                        </form>
                    </div>

                    <!-- Auto Reply -->
                    <div class="tab-pane fade" id="auto-reply" role="tabpanel">
                        <div class="form-header"><i class="fas fa-robot"></i><h6>Pengaturan Balasan Otomatis</h6></div>
                        <form id="form-auto-reply">
                            <div class="mb-3"><label class="form-label">Jika pesan mengandung kata kunci...</label><input type="text" class="form-control" placeholder="Contoh: info, harga, promo"></div>
                            <div class="mb-3"><label class="form-label">Maka balas dengan pesan...</label><textarea class="form-control" rows="4" placeholder="Ketik balasan otomatis Anda..."></textarea></div>
                            <button type="submit" class="btn btn-info"><i class="fas fa-save me-2"></i>Simpan Pengaturan</button>
                        </form>
                    </div>

                    <!-- History -->
                    <div class="tab-pane fade" id="history" role="tabpanel">
                        <div class="form-header"><i class="fas fa-history"></i><h6>Riwayat Pesan</h6></div>
                        <div class="table-responsive">
                            <table id="history-table" class="table table-hover" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>Tanggal</th>
                                        <th>Tujuan</th>
                                        <th>Pesan</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
</div>

<!-- JS libs -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/2.0.8/js/dataTables.bootstrap5.js"></script>
<script src="https://cdn.datatables.net/responsive/3.0.2/js/dataTables.responsive.js"></script>
<script src="https://cdn.datatables.net/responsive/3.0.2/js/responsive.bootstrap5.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="user.js"></script>
</body>
</html>
